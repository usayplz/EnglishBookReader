<html>
<head>
    <style type="text/css">
        @font-face { font-family: Chivo-Regular; src: url('file:///android_asset/fonts/Chivo-Regular.ttf');}
        @font-face { font-family: OpenSans-Regular; src: url('file:///android_asset/fonts/OpenSans-Regular.ttf');}
        @font-face { font-family: Roboto-Mono-Regular; src: url('file:///android_asset/fonts/Roboto-Mono-Regular.ttf');}

        img {
            max-width: 100% !important;
            max-height: 100% !important;
        }

        body {
            padding: 0px;
            margin: 0px;
            background-color: ${background-color};
        }

        p, div {
            margin: 0px;
            padding: 6px 0px 0px 0px;
        }

        .title {
             font-size: 120%;
        }

        #content {
            font-family: '${font-family}';
            font-size: ${font-size}px;
            color: ${background-color};
            text-align: justify;
            line-height: 170%;
            padding: 0px;
            margin: 0px;
        }
    </style>
</head>

<body>
    <div id="content">${content}</div>

    <script>
        function init() {
            var d = document.getElementsByTagName('body')[0];

            var columnGap = 2;
            var ourHeight = window.innerHeight;
            var ourWidth = window.innerWidth;
            var fullHeight = d.offsetHeight;
            var pageCount = Math.floor(fullHeight / (ourHeight + columnGap));
            var newWidth = pageCount * ourWidth;
            d.style.height = ourHeight + 'px';
            d.style.width = newWidth + 'px';
            d.style.webkitColumnGap = columnGap + 'px';
            d.style.webkitColumnCount = pageCount;

            var page = ${page};
            if (page == -1) {
                page = pageCount;
            }

            $("body").scrollLeft(window.innerWidth * page);
            $('#content').css('color', '${font-color}');
            android.getPageCount(pageCount);
        }

        function setPage(page) {
            $("body").animate({scrollLeft: window.innerWidth*page});
        }

        document.onclick = globalOnClickHandler;
        function globalOnClickHandler() {
            var s = window.getSelection();
            s.modify('move','backward', 'word');
            s.modify('extend','forward', 'word');
            android.onTextSelected(s.toString());
        }
    </script>
</body>
</html>